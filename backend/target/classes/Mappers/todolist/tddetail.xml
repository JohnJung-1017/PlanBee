<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    

<mapper namespace="com.pj.planbee.mapper.TDdetailMapper"> <!-- 여기가 사용할 매퍼를 연결해주는 역할, 경로주의 -->
	<resultMap type="com.pj.planbee.dto.todoListDTO" id="tddetail">
		<id property="ToDoDetailID" column="tododetail_id" /> <!-- PK로 지정한 것은 id로 받아준다 -->
		<result property="ToDoDate" column="tododetail_date" />
		<result property="ToDo" column="tododetail" />
		<result property="ToDoStatement" column="tododetail_state" />
		<result property="ToDoDeadLine" column="tododetail_time"/>
		<result property="ToDoID" column="todo_id" />
		
	</resultMap>
	
    
    <select id="getTodo" resultMap ="tddetail">
    	select * from ToDoListDetail order by tododetail_date asc 
    	<!-- 입력날짜 빠른 순으로 정렬 -->
    	
    </select>
    
    <insert id="todoWrite" >
    	insert into ToDoListDetail (tododetail_id, tododetail_date, tododetail, tododetail_state, tododetail_time, todo_id)
    	values(ToDoDetailID_seq.nextval,#{ToDoDate},#{ToDo},'false',#{ToDoDeadLine}, #{TodoID})
	</insert>

	<update id="todoUpdate">
		update ToDoListDetail set tododetail_state='true' where tododetail_id = #{ToDoDetailID}
	</update>
	
	<update id="Modify">
		update ToDoListDetail set tododetail=#{ToDo}, tododetail_state=#{TodoStatement}, tododetail_time=#{ToDoDeadLine} where tododetail_id = #{ToDoDetailID}
	</update>
	
	
	<delete id="delete">
		delete from ToDoListDetail where tododetail_id = #{ToDoDetailID}
	</delete>

</mapper>